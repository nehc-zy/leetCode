# 计算机基本组成

### 存储器

​	存储字长：存储单元的长度

​	存储器：存储体，MDR，MAR

​	MDR：保存从存储体取出或者将要存入的数据，位数体现存储单元长度

​	MAR：保存存储体的地址，位数体现存储单元的地址容量

### 指令

操作码+存储地址，指令和数据都以二进制位存储在存储体当中，不作区分

### 运算过程

ALU直接实现了加法和除法，直接实现乘法和除法代价较高

#### 加法操作过程

​                                           、<img src="C:\Users\nehc_zy\AppData\Roaming\Typora\typora-user-images\image-20220328095251329.png" alt="image-20220328095251329" style="zoom: 50%;" />   

#### 减法操作过程

<img src="C:\Users\nehc_zy\AppData\Roaming\Typora\typora-user-images\image-20220328095513017.png" alt="image-20220328095513017" style="zoom: 50%;" />

#### 乘法操作过程

<img src="C:\Users\nehc_zy\AppData\Roaming\Typora\typora-user-images\image-20220328095918906.png" alt="image-20220328095918906" style="zoom: 50%;" />

乘法操作原理：

为什么ACC要清零：之后要完成累加操作，所以要清零

ACC放的是被乘数，先将其转移到X中，乘数放在MQ中，两者相乘，ACC放结果高位，MQ放结果低位

#### 除法操作过程

<img src="C:\Users\nehc_zy\AppData\Roaming\Typora\typora-user-images\image-20220328101000923.png" alt="image-20220328101000923" style="zoom:50%;" />

除法操作原理：被除数减除数，最后的余数放在ACC中，商放在MQ当中

### 为什么这里的MQ不先清零？？？

加减乘除底层的逻辑电路实现这里先不深究



### 控制器

#### 控制器的功能

解释指令：解释指令指的是从取指到执行到保存结果一系列的过程

保证指令的按序执行

完成指令的过程：

1.取指令，控制器执行，体现在PC

2.分析指令，控制器执行

3.执行指令，控制器执行



### 衡量计算机硬件性能

指令周期：计算机取出并执行一条指令的时间。

CPU周期（亦称机器周期）：一条指令执行过程被划分为若干阶段，例如，取指令、[存储器](https://link.zhihu.com/?target=https%3A//baike.baidu.com/item/%E5%AD%98%E5%82%A8%E5%99%A8/1583185)读、存储器写等，这每一项工作称为一个基本操作（注意：每一个基本操作都是由若干CPU最基本的动作组成）。完成一个**基本操作**所需要的时间称为机器周期。通常用内存中读取一个字的最短时间来规定CPU周期。

时钟周期：又称震荡周期，是处理操作的最基本单位。

即一个指令周期，包含多个 CPU 周期，而一个 CPU 周期包含多个时钟周期。

#### 以运算器为中心的冯诺依曼结构

输入输出的信息到达存储器需要算数逻辑单元ALU参与

#### 以存储器为中心的冯诺依曼结构

输入输出的信息到达存储器不需要算数逻辑单元ALU参与

所谓的指令集，就是软硬件的接口

#### 汇编语言和高级语言

汇编语言指令集不同，则原先汇编，转成机器码就不能实现了，需要重新设计一套符号和机器码的对应形式，不同指令集，机器码就不一样，原先的对应关系就失效了，需要重新设计

高级语言会被编译器编译成不同Cpu指令集对应的汇编语言，所以他不用考虑底层的硬件，即相当于根据不同平台给你转成不同的汇编

![image-20220329103244957](C:\Users\nehc_zy\AppData\Roaming\Typora\typora-user-images\image-20220329103244957.png)

同一个操作，实现的指令步骤或者对应的机器码是不一样的，原先的汇编语言翻译后面临机器码对不上的问题，如果指令步骤完全一致，知识机器码的差别，或许可以修改汇编器，将其指向另一种体系结构对应的机器码，但是也有可能指令步骤也完全不一样，这样就没有办法转



## 总线

各个部件**共享**的传输介质

串行：单根数据线，一个位一个位进行传输

并行：多根数据线，多个位同时进行传输，长距离的情况下线之间会发生干扰，导致出错

### 总线结构

#### 单总线结构

<img src="C:\Users\nehc_zy\AppData\Roaming\Typora\typora-user-images\image-20220329105409174.png" alt="image-20220329105409174" style="zoom: 67%;" />

每次只能一对设备用，造成计算机瓶颈，如果设备数量较多，总线长度过长

#### 面向CPU的双总线结构

<img src="C:\Users\nehc_zy\AppData\Roaming\Typora\typora-user-images\image-20220329105703630.png" alt="image-20220329105703630" style="zoom:67%;" />

相当于CPU单独连接主存，问题在于一旦主存和I/O设备之间存在数据交换，都要通过CPU，CPU原先的操作都会被打断

#### 面向存储器的双总线结构

<img src="C:\Users\nehc_zy\AppData\Roaming\Typora\typora-user-images\image-20220329144242729.png" alt="image-20220329144242729" style="zoom:67%;" />

主存可以直接和I/O接口进行连接，但是按照现在的技术，主存在存储总线以及主存在系统总线上的数据传输不能同时进行



### 总线的分类

#### 片内总线：芯片内部之间的总线

#### 系统总线（可以理解成片间总线）：计算机各部件之间的信息传输线

1.数据总线：机器字长为64位，存储字长为8位，一般来说，数据总线宽度小于等于这两者，这样传一个64位的数据就要传8次，数据总线是双向的

2.地址总线：与存储器中的MDR位数长度一样，是单向的

3.控制总线：类似外设端口发送给CPU的中断信号也是通过控制总线进行传输的

#### 通信总线（从计算机内部扩展到计算机外部）

计算机系统之间或者计算机系统与其他系统之间的通信

传输方式：串行通信总线，并行通信总线

### 

### 总线性能及性能指标

在计算机中表现就是一根根并列的印刷电路板，上面留出了很多接口，很多插板可以插上去

<img src="C:\Users\nehc_zy\AppData\Roaming\Typora\typora-user-images\image-20220329145355340.png" alt="image-20220329145355340" style="zoom:67%;" />



#### 总线特性：

机械特性：尺寸、形状、管脚数及排列顺序

电气特定：数据传输方向和有效的电平范围

功能特性：每根传输线的功能

时间特性：时序电路信号的时序 不懂



#### 总线的性能指标

 总线宽度：数据线的根数

标准传输率：每秒传输的最大字节数（MBps）

时钟同步/异步：同步、不同步

总线复用：地址线和数据线复用，8086就是这样的结构，20位地址可以用来传输地址，然后16位用来传输数据

信号线数：地址线、数据线和控制线的总和

总线控制方式：突发、自动、仲裁、逻辑、计数

其他指标：负载能力，比如总线上可以挂载多少个I/O设备



#### 总线标准

不同厂商生产的配件要能接到同一条总线上，所以要有标准

<img src="C:\Users\nehc_zy\AppData\Roaming\Typora\typora-user-images\image-20220329152136260.png" alt="image-20220329152136260" style="zoom:67%;" />

总线时钟的8Mhz，每秒传输8M次，数据线16位，一次传输两个字节，所以每秒传输字节数 8M * 2，就是16MBps

涉及到频率，以及带宽，之间的进制转换是1000

